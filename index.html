<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Investment Goal Calculator</title>

    <!-- Google Fonts: Outfit for a modern financial look -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />

    <!-- Bootstrap 5 CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

    <style>

        .formContainer {
            width: 90vw !important;
        }
      :root {
        /* New Palette */
        --brand-terra: #ed6a5a; /* Primary Brand / Header */
        --brand-beige: #f3e7da; /* Background */
        --brand-gold: #fbb13c; /* Accent / Warning */
        --brand-teal: #37c0a2; /* Action / Growth / Success */
        --brand-teal-dark: #2a967e;

        /* Functional Colors derived from palette */
        --text-primary: #1f2937; /* Dark Grey for contrast */
        --text-secondary: #4b5563; /* Softer Grey */
        --surface-white: #ffffff;
        --surface-card: #ffffff;

        --radius-lg: 0px; /* Removed radius for full screen */
        --radius-md: 16px;
        --radius-sm: 12px;
      }

      body {
        font-family: "Outfit", sans-serif;
        /* Background is now covered by the card, but kept as fallback */
        background: var(--surface-card);
        color: var(--text-primary);
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        padding: 0; /* Remove padding to allow full coverage */
        margin: 0;
        font-size: 18px; /* Increased base font size */
      }

      .app-card {
        width: 100%;
        min-height: 100vh;
        margin: 0;
        background: var(--surface-card);
        border: none;
        border-radius: 0;
        box-shadow: none;
        display: flex;
        flex-direction: column;
      }

      /* --- Header Section --- */
      .header-top {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 2rem;
        margin-top: 100px !important;
      }

      @media (min-width: 768px) {
        .header-top {
          flex-direction: row;
          justify-content: space-between;
          align-items: center;
        }
      }

      .header-top-logo img {
        max-width: 100px; /* Slightly larger logo */
        height: auto;
        transition: transform 0.3s ease;
      }
      .header-top-logo img:hover {
        transform: scale(1.02);
      }

      .calc-header {
        font-weight: 800;
        font-size: 3.5rem; /* Bigger Header */
        /* Gradient from Terra Cotta to Gold for warmth */
        background: linear-gradient(90deg, var(--brand-terra), #d9534f);
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        letter-spacing: -1px;
        line-height: 1.1;
        padding-bottom: 50px;
      }

      .calc-header {
        margin-bottom: 100px !important;
      }

      /* Center title across full width (desktop only) */
      @media (min-width: 768px) {
        .header-top {
          position: relative;
        }

        .calc-header {
          position: absolute;
          left: 50%;
          transform: translateX(-50%);
          text-align: center;
          width: max-content;
          margin-bottom: 50px !important;
        }
      }

      .brand-badge {
        display: inline-block;
        background: rgba(55, 192, 162, 0.1);
        color: var(--brand-teal-dark);
        padding: 0.75rem 1.5rem; /* Larger padding */
        border-radius: 999px;
        font-weight: 600;
        font-size: 1.1rem; /* Larger text */
        border: 1px solid rgba(55, 192, 162, 0.2);
      }

      .lead-subtitle {
        font-size: 1.5rem; /* Larger text */
        font-weight: 400;
        color: var(--text-secondary);
        margin-top: 1rem;
      }

      /* --- Goal Grid System --- */
      .subtitle {
        display: inline-block;
        background: rgba(237, 106, 90, 0.08);
        color: var(--brand-terra);
        border: 1px solid rgba(237, 106, 90, 0.2);
        border-radius: var(--radius-sm);
        padding: 0.6rem 1.5rem;
        font-size: 1.1rem; /* Larger text */
        margin-bottom: 2rem;
      }

      /* Desktop & tablet: 2 rows (4 + 3), centered */
.goal-grid {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;   /* center last row */
  gap: 1.5rem;
  margin: 1rem auto 0;       /* center the whole grid block */
}

/* Default card width for non‚Äìmobile (drives 4 per row on wide screens) */
.goal-btn {
  background: var(--brand-beige);
  border: 2px solid transparent;
  border-radius: var(--radius-md);
  padding: 2rem 1rem;
  height: 100%;
  min-height: 220px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  cursor: pointer;
  transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
  color: var(--text-primary);
  font-weight: 600;
  font-size: 1.1rem;
  box-shadow: none;

  /* key line for 4 per row on desktop, 3 on second row */
  flex: 0 1 260px;
}

/* Mobile: horizontal scroll / snap like a carousel */
@media (max-width: 767.98px) {
  .goal-grid {
    flex-wrap: nowrap;          /* single row */
    overflow-x: auto;
    scroll-snap-type: x mandatory;
    gap: 1.25rem;
    padding-bottom: 1rem;
  }

  .goal-btn {
    flex: 0 0 75vw;             /* wide cards */
    scroll-snap-align: center;
  }

  .goal-grid::-webkit-scrollbar {
    height: 6px;
  }
  .goal-grid::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.15);
    border-radius: 999px;
  }
}
      .goal-btn img {
        width: 120px; /* Bigger Icons */
        height: auto;
        margin-bottom: 1.5rem;
        transition: transform 0.25s ease;
        filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.05));
        display: block; /* Ensure block level for centering */
        margin-left: auto;
        margin-right: auto;
      }

      .goal-btn:hover {
        transform: translateY(-5px);
        background: #fff;
        border-color: var(--brand-gold);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.05);
      }

      .goal-btn:hover img {
        transform: scale(1.1);
      }

      /* Active State */
      .goal-btn.active {
        background: #fff;
        border-color: var(--brand-teal);
        color: var(--brand-teal-dark);
        box-shadow: 0 0 0 4px rgba(55, 192, 162, 0.15);
      }

      /* --- Forms & Inputs --- */
      .form-label {
        font-weight: 600;
        font-size: 1.1rem; /* Larger label */
        color: var(--text-primary);
        margin-bottom: 0.75rem;
      }

      .form-label .help {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 22px; /* Bigger help icon */
        height: 22px;
        background: var(--brand-gold);
        color: #fff;
        border-radius: 50%;
        font-size: 0.85rem;
        margin-left: 8px;
        cursor: help;
        border: none;
      }

      .form-control {
        border: 2px solid #e2e8f0;
        border-radius: var(--radius-sm);
        padding: 1rem 1.25rem; /* Larger padding */
        font-size: 1.1rem; /* Larger input text */
        font-weight: 500;
        color: var(--text-primary);
        transition: all 0.2s ease;
        background-color: #fafafa;
      }

      .form-control:focus {
        border-color: var(--brand-teal);
        box-shadow: 0 0 0 4px rgba(55, 192, 162, 0.1);
        background: #fff;
      }

      .form-range {
        height: 1.5rem;
      }
      .form-range::-webkit-slider-thumb {
        background: var(--brand-teal);
        width: 20px;
        height: 20px;
        margin-top: -8px;
      }
      .form-range::-webkit-slider-runnable-track {
        background-color: #e2e8f0;
        height: 0.5rem;
      }

      .kpi-pill {
        display: inline-block;
        background: var(--brand-teal);
        color: #fff;
        font-weight: 700;
        padding: 0.4rem 1rem;
        border-radius: 99px;
        font-size: 1rem;
        margin-top: 0.5rem;
      }

      #calcBtn {
        background: linear-gradient(
          135deg,
          var(--brand-teal),
          var(--brand-teal-dark)
        );
        border: none;
        padding: 1.25rem;
        font-size: 1.2rem;
        font-weight: 700;
        letter-spacing: 0.5px;
        text-transform: uppercase;
        border-radius: var(--radius-sm);
        margin-top: 1.5rem;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }

      #calcBtn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 15px rgba(55, 192, 162, 0.3);
      }

      #calcBtn:active {
        transform: translateY(0);
      }

      /* --- Results Area --- */
      #resultsCol .h-100 {
        background: var(--brand-beige);
        border: 1px solid rgba(0, 0, 0, 0.05);
      }

      .chart-wrap {
        position: relative;
        background: #fff;
        border: 1px dashed rgba(55, 192, 162, 0.3);
        border-radius: var(--radius-md);
        padding: 1.5rem;
        margin-top: 1.5rem;
        min-height: 450px;
      }

      #resultLine {
        font-size: 1.5rem; /* Larger Result Text */
        color: var(--brand-teal-dark);
        line-height: 1.5;
      }
      .accent {
        color: var(--brand-terra);
        font-weight: 700;
      }

      /* --- Pro Tip & Accordion --- */
      .protip-card {
        background: linear-gradient(145deg, #fffbf0 0%, #fff 100%);
        border: 1px solid rgba(251, 177, 60, 0.2);
        border-radius: var(--radius-md);
        color: var(--text-primary);
        font-size: 1.05rem; /* Larger text */
      }
      .protip-card h5 {
        color: #d97706;
        font-weight: 700;
        font-size: 1.4rem;
      }
      .protip-card li {
        margin-bottom: 0.75rem;
        position: relative;
        padding-left: 0.5rem;
      }

      .accordion-item {
        border: 1px solid #e2e8f0;
        margin-bottom: 0.5rem;
        border-radius: var(--radius-sm) !important;
        overflow: hidden;
      }
      .accordion-button {
        background: #fff;
        color: var(--text-primary);
        font-weight: 600;
        font-size: 1.1rem; /* Larger accordion text */
        padding: 1.25rem;
        box-shadow: none !important;
      }
      .accordion-button:not(.collapsed) {
        background: rgba(55, 192, 162, 0.08);
        color: var(--brand-teal-dark);
      }
      .accordion-button:focus {
        border-color: rgba(55, 192, 162, 0.2);
        box-shadow: 0 0 0 4px rgba(55, 192, 162, 0.1);
      }

      .btn-outline-brand {
        border: 2px solid var(--brand-terra);
        color: var(--brand-terra);
        font-weight: 600;
        border-radius: 99px;
        padding: 0.75rem 2rem;
        font-size: 1.1rem;
        transition: all 0.2s ease;
      }
      .btn-outline-brand:hover {
        background: var(--brand-terra);
        color: #fff;
      }

      .text-warning-emphasis {
        color: #92400e !important;
      }

      /* --- Zoho Form Overrides --- */
      #zf_div_sLM441zK4CB6fLES6zobQ3mL07JA7D6BAwC2dKzF4sA {
        margin-top: 60px;
      }
      .zf-wrapper {
        display: flex;
        justify-content: center;
        width: 100%;
        margin-top: 4rem;
        padding-top: 2rem;
        border-top: 1px solid rgba(0, 0, 0, 0.05);
      }
      #zf_div_sLM441zK4CB6fLES6zobQ3mL07JA7D6BAwC2dKzF4sA iframe {
        border-radius: var(--radius-md);
        box-shadow: none;
        background: #fff;
        /* Ensure it can go wide */
        width: 100% !important;
        max-width: 100% !important;
      }

      /* Main container inside the full width card */
      .content-container {
        width: 100%;
        max-width: 1400px; /* Constrain content but keep full width BG */
        margin: 0 auto;
      }

      /* Animation Utility */
      .fade-in {
        animation: fadeIn 0.5s ease-in;
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    </style>
  </head>
  <body>
    <main class="w-100">
      <div class="app-card p-4 p-md-5">
        <div class="content-container">
          <div class="text-center mb-5">
            <!-- Header -->
            <div class="header-top">
              <h1 class="calc-header text-center">
                MILESTONES GOAL CALCULATOR
              </h1>
            </div>

            <!-- Badge & Subtitle -->
            <div class="text-center">
              <span class="brand-badge">
                Goal Oriented ‚Ä¢ Simple ‚Ä¢ Personalized
              </span>
              <p class="lead-subtitle mb-0">
                Track the fastest route to your next milestone.
              </p>
            </div>
          </div>

          <!-- Goal Selection Grid -->
          <div class="text-center mb-5">
            <div class="subtitle fw-bold">
              Select your financial wealth goal below.
            </div>
            <div class="goal-grid">
              <button
                class="goal-btn"
                data-goal="200000"
                data-name="Self-Starter"
              >
                <img
                  src="https://milestones2wealth.com/wp-content/uploads/2025/07/Asset-2-1.png"
                />
                <div>
                  <div class="fw-bold">Self-Starter</div>
                  <div class="small opacity-75">‚Çπ2 Lakhs</div>
                </div>
              </button>

              <button class="goal-btn" data-goal="200000" data-name="Go-Getter">
                <img
                  src="https://milestones2wealth.com/wp-content/uploads/2025/07/2L.png"
                />
                <div>
                  <div class="fw-bold">Go-Getter</div>
                  <div class="small opacity-75">‚Çπ2 Lakhs</div>
                </div>
              </button>

              <button class="goal-btn" data-goal="500000" data-name="Achiever">
                <img
                  src="https://milestones2wealth.com/wp-content/uploads/2025/07/Asset-3.png"
                />
                <div>
                  <div class="fw-bold">Achiever</div>
                  <div class="small opacity-75">‚Çπ5 Lakhs</div>
                </div>
              </button>

              <button class="goal-btn" data-goal="1000000" data-name="Warrior">
                <img
                  src="https://milestones2wealth.com/wp-content/uploads/2025/07/Asset-4.png"
                />
                <div>
                  <div class="fw-bold">Warrior</div>
                  <div class="small opacity-75">‚Çπ10 Lakhs</div>
                </div>
              </button>

              <button
                class="goal-btn"
                data-goal="2500000"
                data-name="Sharpshooter"
              >
                <img
                  src="https://milestones2wealth.com/wp-content/uploads/2025/07/25L.png"
                />
                <div>
                  <div class="fw-bold">Sharpshooter</div>
                  <div class="small opacity-75">‚Çπ25 Lakhs</div>
                </div>
              </button>

              <button class="goal-btn" data-goal="5000000" data-name="Maestro">
                <img
                  src="https://milestones2wealth.com/wp-content/uploads/2025/07/Asset-6.png"
                />
                <div>
                  <div class="fw-bold">Maestro</div>
                  <div class="small opacity-75">‚Çπ50 Lakhs</div>
                </div>
              </button>

              <button
                class="goal-btn"
                data-goal="10000000"
                data-name="Ambassador"
              >
                <img
                  src="https://milestones2wealth.com/wp-content/uploads/2025/07/Asset-7.png"
                />
                <div>
                  <div class="fw-bold">Ambassador</div>
                  <div class="small opacity-75">‚Çπ1 Crore</div>
                </div>
              </button>
            </div>
          </div>

          <!-- Calculator Section -->
          <div
            id="calcSection"
            class="row g-5 align-items-stretch d-none fade-in"
          >
            <!-- Pro Tip Banner -->
            <div id="proTipBanner" class="col-12 d-none">
              <div
                class="alert alert-warning border-0 shadow-sm d-flex flex-wrap justify-content-between align-items-center mb-0 rounded-4 p-4"
                style="background-color: #fffbf0; color: #b45309"
              >
                <div class="mb-2 mb-md-0 fs-5">
                  <span class="badge bg-warning text-dark me-2">Pro Tip</span>
                  You can reach your goal faster by increasing your
                  <b>SIP Step-Up</b> and <b>Annual Corpus Top-Up</b>.
                </div>
                <button
                  type="button"
                  id="nudgeFocus"
                  class="btn btn-outline-brand ms-md-3 border-warning text-warning-emphasis"
                >
                  Edit Step-Up & Top-Up
                </button>
              </div>
            </div>

            <!-- Inputs -->
            <div class="col-12 col-lg-5" id="inputsCol">
              <div class="h-100 p-3 p-md-4">
                <h3 class="mb-4 fw-bold text-secondary">Your Plan</h3>
                <form id="calcForm" novalidate>
                  <div class="mb-4">
                    <label class="form-label" for="initialCorpus">
                      Initial corpus (‚Çπ)
                      <span
                        class="help"
                        role="button"
                        data-bs-toggle="tooltip"
                        data-bs-placement="top"
                        title="The lump sum you already have invested."
                        >?</span
                      >
                    </label>
                    <input
                      type="number"
                      class="form-control"
                      id="initialCorpus"
                      placeholder="e.g., 50000"
                      value="50000"
                      min="0"
                    />
                  </div>

                  <div class="mb-4">
                    <label class="form-label" for="monthlySIP">
                      Monthly SIP (‚Çπ)
                      <span
                        class="help"
                        role="button"
                        data-bs-toggle="tooltip"
                        data-bs-placement="top"
                        title="Your monthly investment added at the beginning of each month."
                        >?</span
                      >
                    </label>
                    <input
                      type="number"
                      class="form-control"
                      id="monthlySIP"
                      placeholder="e.g., 10000"
                      value="10000"
                      min="0"
                    />
                  </div>

                  <div class="mb-4">
                    <label class="form-label" for="expectedReturn">
                      Expected annual return (%)
                      <span
                        class="help"
                        role="button"
                        data-bs-toggle="tooltip"
                        data-bs-placement="top"
                        title="Net annualised rate assumed for growth. This is just an estimate."
                        >?</span
                      >
                    </label>
                    <input
                      type="range"
                      class="form-range"
                      id="expectedReturn"
                      min="8"
                      max="16"
                      step="0.5"
                      value="12"
                    />
                    <div
                      class="d-flex justify-content-between align-items-center mt-2"
                    >
                      <small class="text-muted fs-6">Conservative (8%)</small>
                      <span class="kpi-pill">
                        <span id="returnValue">12</span>%
                      </span>
                      <small class="text-muted fs-6">Aggressive (16%)</small>
                    </div>
                  </div>

                  <!-- Advanced Inputs -->
                  <div class="mb-4 advanced-input d-none fade-in">
                    <label class="form-label" for="stepUpAmt">
                      Yearly SIP Step-Up (‚Çπ)
                      <span
                        class="help"
                        role="button"
                        data-bs-toggle="tooltip"
                        data-bs-placement="top"
                        title="How much should your monthly SIP increase every 12 months?"
                        >?</span
                      >
                    </label>
                    <input
                      type="number"
                      class="form-control"
                      id="stepUpAmt"
                      placeholder="e.g., 1000"
                      min="0"
                      value="0"
                    />
                  </div>

                  <div class="mb-4 advanced-input d-none fade-in">
                    <label class="form-label" for="topUpAmt">
                      Annual Corpus Top-Up (‚Çπ)
                      <span
                        class="help"
                        role="button"
                        data-bs-toggle="tooltip"
                        data-bs-placement="top"
                        title="How much extra will you add to your corpus every 12 months (month 12, 24, ...)?"
                        >?</span
                      >
                    </label>
                    <input
                      type="number"
                      class="form-control"
                      id="topUpAmt"
                      placeholder="e.g., 20000"
                      min="0"
                      value="0"
                    />
                  </div>

                  <button
                    type="button"
                    id="calcBtn"
                    class="btn btn-success w-100 text-white shadow"
                    data-bs-toggle="tooltip"
                    data-bs-placement="top"
                    title="Calculate time to each milestone based on your inputs"
                  >
                    Calculate Timeline
                  </button>
                </form>
              </div>
            </div>

            <!-- Results -->
            <div class="col-12 col-lg-7 d-none fade-in" id="resultsCol">
              <div class="h-100 rounded-4 p-3 p-md-4 d-flex flex-column">
                <h3 class="mb-3 fw-bold text-secondary">Projected Timeline</h3>
                <div id="highlightGoal" class="text-muted mb-2 fs-5">
                  No goal selected yet.
                </div>
                <div id="resultLine" class="mb-3 fw-semibold"></div>

                <div class="chart-wrap flex-grow-1 d-flex align-items-center">
                  <canvas id="goalChart" height="180"></canvas>
                </div>
                <div class="mt-3 text-center text-muted fst-italic">
                  Lower on the chart = Faster achievement
                </div>
              </div>
            </div>
          </div>

          <!-- Glossary + Pro Tips Row -->
          <div class="row g-5 mt-5">
            <!-- Left: Glossary / Learning Hub -->
            <div class="col-12 col-lg-8">
              <h3 class="mb-4 fw-bold">
                Everything An Investor Needs To Know - Glossary
              </h3>
              <div class="accordion accordion-flush" id="glossaryAccordion">
                <!-- a. Basics of SIP -->
                <div class="accordion-item">
                  <h2 class="accordion-header" id="glossary1h">
                    <button
                      class="accordion-button"
                      type="button"
                      data-bs-toggle="collapse"
                      data-bs-target="#glossary1"
                      aria-expanded="true"
                      aria-controls="glossary1"
                    >
                      Why SIP Wins? The Smarter Way to Build Wealth for Most
                      Investors.
                    </button>
                  </h2>
                  <div
                    id="glossary1"
                    class="accordion-collapse collapse show"
                    aria-labelledby="glossary1h"
                    data-bs-parent="#glossaryAccordion"
                  >
                    <div class="accordion-body">
                      <div class="ratio ratio-16x9 rounded-3 overflow-hidden">
                        <iframe
                          width="560"
                          height="315"
                          src="https://www.youtube.com/embed/pWH6EbKPJZU?si=U0S-9_PAIAeeVZGb"
                          title="YouTube video player"
                          frameborder="0"
                          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                          referrerpolicy="strict-origin-when-cross-origin"
                          allowfullscreen
                        ></iframe>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- b. Step-up SIP & Top-Ups -->
                <div class="accordion-item">
                  <h2 class="accordion-header" id="glossary2h">
                    <button
                      class="accordion-button collapsed"
                      type="button"
                      data-bs-toggle="collapse"
                      data-bs-target="#glossary2"
                      aria-expanded="false"
                      aria-controls="glossary2"
                    >
                      Step Up SIP + Top Up: How Small Increases Create Big
                      Wealth?
                    </button>
                  </h2>
                  <div
                    id="glossary2"
                    class="accordion-collapse collapse"
                    aria-labelledby="glossary2h"
                    data-bs-parent="#glossaryAccordion"
                  >
                    <div class="accordion-body">
                      <div class="ratio ratio-16x9 rounded-3 overflow-hidden">
                        <iframe
                          width="560"
                          height="315"
                          src="https://www.youtube.com/embed/ZaPeMSE9inI?si=PPC5_96UzwDF1GSH"
                          title="YouTube video player"
                          frameborder="0"
                          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                          referrerpolicy="strict-origin-when-cross-origin"
                          allowfullscreen
                        ></iframe>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- c. Power of compounding -->
                <div class="accordion-item">
                  <h2 class="accordion-header" id="glossary3h">
                    <button
                      class="accordion-button collapsed"
                      type="button"
                      data-bs-toggle="collapse"
                      data-bs-target="#glossary3"
                      aria-expanded="false"
                      aria-controls="glossary3"
                    >
                      Why the Power of Compounding Matters?
                    </button>
                  </h2>
                  <div
                    id="glossary3"
                    class="accordion-collapse collapse"
                    aria-labelledby="glossary3h"
                    data-bs-parent="#glossaryAccordion"
                  >
                    <div class="accordion-body">
                      <div class="ratio ratio-16x9 rounded-3 overflow-hidden">
                        <iframe
                          width="560"
                          height="315"
                          src="https://www.youtube.com/embed/oEYluJt3CZk?si=At1owUMPhADVNCaQ"
                          title="YouTube video player"
                          frameborder="0"
                          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                          referrerpolicy="strict-origin-when-cross-origin"
                          allowfullscreen
                        ></iframe>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- d. Goal mapping -->
                <div class="accordion-item">
                  <h2 class="accordion-header" id="glossary4h">
                    <button
                      class="accordion-button collapsed"
                      type="button"
                      data-bs-toggle="collapse"
                      data-bs-target="#glossary4"
                      aria-expanded="false"
                      aria-controls="glossary4"
                    >
                      Understand the Importance of Goal Mapping in your
                      Investing Journey
                    </button>
                  </h2>
                  <div
                    id="glossary4"
                    class="accordion-collapse collapse"
                    aria-labelledby="glossary4h"
                    data-bs-parent="#glossaryAccordion"
                  >
                    <div class="accordion-body">
                      <div class="ratio ratio-16x9 rounded-3 overflow-hidden">
                        <iframe
                          width="560"
                          height="315"
                          src="https://www.youtube.com/embed/R2gN8bPqNjk?si=P4KT2yUB7QR_1_93"
                          title="YouTube video player"
                          frameborder="0"
                          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                          referrerpolicy="strict-origin-when-cross-origin"
                          allowfullscreen
                        ></iframe>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- e. Detailed calculation method (PDF) -->
                <div class="accordion-item">
                  <h2 class="accordion-header" id="glossary5h">
                    <button
                      class="accordion-button collapsed"
                      type="button"
                      data-bs-toggle="collapse"
                      data-bs-target="#glossary5"
                      aria-expanded="false"
                      aria-controls="glossary5"
                    >
                      What is our detailed calculation method?
                    </button>
                  </h2>
                  <div
                    id="glossary5"
                    class="accordion-collapse collapse"
                    aria-labelledby="glossary5h"
                    data-bs-parent="#glossaryAccordion"
                  >
                    <div class="accordion-body">
                      <p class="mb-3 text-muted">
                        You can download the full Milestones2Wealth calculation
                        guide here:
                      </p>
                      <a
                        class="btn btn-outline-brand"
                        href="https://milestones2wealth.com/wp-content/uploads/2025/12/M2W-Calculator-Detailed-Calculation-Method-1.pdf"
                        target="_blank"
                        rel="noopener"
                      >
                        <i class="bi bi-file-earmark-pdf"></i> Open Detailed
                        Calculation Method (PDF)
                      </a>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Right: Pro Tip static section -->
            <div class="col-12 col-lg-4">
              <div class="protip-card h-100 p-4">
                <h5 class="mb-4 d-flex align-items-center">
                  <span>üí°</span>
                  <span class="ms-2">Smarter Planning</span>
                </h5>
                <ul class="small mb-0 list-unstyled">
                  <li>
                    <strong>Plan with inflation ‚Äì</strong> Future cost will be
                    higher ‚Äî add a buffer in pace with inflation.
                  </li>
                  <li
                    class="my-3 border-bottom border-secondary opacity-10"
                  ></li>
                  <li>
                    <strong>Match returns to timeframe ‚Äì</strong>
                    Short-term: 6‚Äì7%. Long-term: 10‚Äì12%.
                  </li>
                  <li
                    class="my-3 border-bottom border-secondary opacity-10"
                  ></li>
                  <li>
                    <strong>Start early, even small ‚Äì</strong> Time beats amount
                    in compounding.
                  </li>
                  <li
                    class="my-3 border-bottom border-secondary opacity-10"
                  ></li>
                  <li>
                    <strong>Automate SIP ‚Äì</strong> Follow ‚ÄúIncome ‚Äì Savings =
                    Expenses.‚Äù
                  </li>
                  <li
                    class="my-3 border-bottom border-secondary opacity-10"
                  ></li>
                  <li>
                    <strong>Use Step-Up SIP ‚Äì</strong> A 5‚Äì10% yearly increase
                    cuts years off your goal.
                  </li>
                  <li
                    class="my-3 border-bottom border-secondary opacity-10"
                  ></li>
                  <li>
                    <strong>Add small top-ups ‚Äì</strong> Even ‚Çπ5k‚Äì‚Çπ25k yearly
                    speeds up your milestone.
                  </li>
                  <li
                    class="my-3 border-bottom border-secondary opacity-10"
                  ></li>
                  <li>
                    <strong>Stay consistent ‚Äì</strong> Missing SIPs delays your
                    goal more than you think.
                  </li>
                  <li
                    class="my-3 border-bottom border-secondary opacity-10"
                  ></li>
                  <li>
                    <strong>Review yearly ‚Äì</strong> Adjust SIP or returns based
                    on income and goals.
                  </li>
                </ul>
              </div>
            </div>
          </div>

          <div class="text-center mt-5">
            <a
              href="https://milestones2wealth.com/wp-content/uploads/2025/12/M2W-Calculator-FAQ.pdf"
              target="_blank"
              class="btn btn-outline-brand px-5 py-3 shadow-sm"
            >
              üìò Frequently Asked Questions
            </a>
          </div>
        </div>

        <!-- ZOHO FORM CONTAINER (Inside app-card, full width) -->
        <div class="zf-wrapper">
          <div
            id="zf_div_sLM441zK4CB6fLES6zobQ3mL07JA7D6BAwC2dKzF4sA"
            style="width: 100%"
          >
            <script type="text/javascript">
              (function () {
                try {
                  var f = document.createElement("iframe");

                  var ifrmSrc =
                    "https://forms.zohopublic.in/ithought/form/SignUp/formperma/sLM441zK4CB6fLES6zobQ3mL07JA7D6BAwC2dKzF4sA?zf_rszfm=1";

                  try {
                    if (
                      typeof ZFAdvLead != "undefined" &&
                      typeof zfutm_zfAdvLead != "undefined"
                    ) {
                      for (
                        var prmIdx = 0;
                        prmIdx < ZFAdvLead.utmPNameArr.length;
                        prmIdx++
                      ) {
                        var utmPm = ZFAdvLead.utmPNameArr[prmIdx];
                        utmPm =
                          ZFAdvLead.isSameDomian &&
                          ZFAdvLead.utmcustPNameArr.indexOf(utmPm) == -1
                            ? "zf_" + utmPm
                            : utmPm;
                        var utmVal = zfutm_zfAdvLead.zfautm_gC_enc(
                          ZFAdvLead.utmPNameArr[prmIdx]
                        );
                        if (typeof utmVal !== "undefined") {
                          if (utmVal != "") {
                            if (ifrmSrc.indexOf("?") > 0) {
                              ifrmSrc = ifrmSrc + "&" + utmPm + "=" + utmVal;
                            } else {
                              ifrmSrc = ifrmSrc + "?" + utmPm + "=" + utmVal;
                            }
                          }
                        }
                      }
                    }
                    if (
                      typeof ZFLead !== "undefined" &&
                      typeof zfutm_zfLead !== "undefined"
                    ) {
                      for (
                        var prmIdx = 0;
                        prmIdx < ZFLead.utmPNameArr.length;
                        prmIdx++
                      ) {
                        var utmPm = ZFLead.utmPNameArr[prmIdx];
                        var utmVal = zfutm_zfLead.zfutm_gC_enc(
                          ZFLead.utmPNameArr[prmIdx]
                        );
                        if (typeof utmVal !== "undefined") {
                          if (utmVal != "") {
                            if (ifrmSrc.indexOf("?") > 0) {
                              ifrmSrc = ifrmSrc + "&" + utmPm + "=" + utmVal; //No I18N
                            } else {
                              ifrmSrc = ifrmSrc + "?" + utmPm + "=" + utmVal; //No I18N
                            }
                          }
                        }
                      }
                    }
                  } catch (e) {}

                  f.src = ifrmSrc;
                  f.style.border = "none";
                  f.style.height = "544px";
                  f.style.width = "100%";
                  f.style.transition = "all 0.5s ease";
                  f.setAttribute("aria-label", "Book A Free Call");

                  var d = document.getElementById(
                    "zf_div_sLM441zK4CB6fLES6zobQ3mL07JA7D6BAwC2dKzF4sA"
                  );
                  d.appendChild(f);
                  window.addEventListener(
                    "message",
                    function () {
                      var evntData = event.data;
                      if (evntData && evntData.constructor == String) {
                        var zf_ifrm_data = evntData.split("|");
                        if (
                          zf_ifrm_data.length == 2 ||
                          zf_ifrm_data.length == 3
                        ) {
                          var zf_perma = zf_ifrm_data[0];
                          var zf_ifrm_ht_nw =
                            parseInt(zf_ifrm_data[1], 10) + 15 + "px";
                          var iframe = document
                            .getElementById(
                              "zf_div_sLM441zK4CB6fLES6zobQ3mL07JA7D6BAwC2dKzF4sA"
                            )
                            .getElementsByTagName("iframe")[0];
                          if (
                            iframe.src.indexOf("formperma") > 0 &&
                            iframe.src.indexOf(zf_perma) > 0
                          ) {
                            var prevIframeHeight = iframe.style.height;
                            var zf_tout = false;
                            if (zf_ifrm_data.length == 3) {
                              iframe.scrollIntoView();
                              zf_tout = true;
                            }

                            if (prevIframeHeight != zf_ifrm_ht_nw) {
                              if (zf_tout) {
                                setTimeout(function () {
                                  iframe.style.height = zf_ifrm_ht_nw;
                                }, 500);
                              } else {
                                iframe.style.height = zf_ifrm_ht_nw;
                              }
                            }
                          }
                        }
                      }
                    },
                    false
                  );
                } catch (e) {}
              })();
            </script>
          </div>
        </div>
      </div>
    </main>

    <!-- Load Bootstrap JS BEFORE any script that uses `bootstrap.*` -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script>
      // --- Safety checks (helpful in debugging) ---
      (function sanity() {
        if (typeof Chart === "undefined") console.error("Chart.js not loaded");
        if (typeof bootstrap === "undefined")
          console.error("Bootstrap JS not loaded");
      })();

      // --- Bootstrap tooltips ---
      const tooltipEls = [].slice.call(
        document.querySelectorAll('[data-bs-toggle="tooltip"]')
      );
      if (typeof bootstrap !== "undefined" && tooltipEls.length) {
        tooltipEls.map((el) => new bootstrap.Tooltip(el));
      }

      // --- UI state ---
      const goals = [200000, 500000, 1000000, 2500000, 5000000, 10000000];
      const goalMeta = {
        200000: "Go Getter",
        500000: "Achiever",
        1000000: "Warrior",
        2500000: "Sharpshooter",
        5000000: "Maestro",
        10000000: "Ambassador",
      };

      // --- Goal Icons for chart points ---
      const goalIconUrls = {
        200000:
          "https://milestones2wealth.com/wp-content/uploads/2025/07/2L.png", // Go-Getter 2L
        500000:
          "https://milestones2wealth.com/wp-content/uploads/2025/07/Asset-3.png", // Achiever 5L
        1000000:
          "https://milestones2wealth.com/wp-content/uploads/2025/07/Asset-4.png", // Warrior 10L
        2500000:
          "https://milestones2wealth.com/wp-content/uploads/2025/07/25L.png", // Sharpshooter 25L
        5000000:
          "https://milestones2wealth.com/wp-content/uploads/2025/07/Asset-6.png", // Maestro 50L
        10000000:
          "https://milestones2wealth.com/wp-content/uploads/2025/07/Asset-7.png", // Ambassador 1Cr
      };

      const goalIconImages = {};
      Object.entries(goalIconUrls).forEach(([goal, url]) => {
        const img = new Image();
        img.src = url;
        img.width = 32;
        img.height = 32;
        goalIconImages[goal] = img;
      });

      let selectedGoal = null;
      let chart;
      let lastResults = null; // cache last computation
      let advancedMode = false; // becomes true when user clicks "Edit Step-Up & Top-Up"

      function formatIndianAmount(num) {
        if (num >= 10000000) {
          // ‚â• 1 Cr
          return "‚Çπ" + num / 10000000 + " Crore";
        } else if (num >= 100000) {
          // ‚â• 1 Lakh
          return "‚Çπ" + num / 100000 + " Lakh" + (num >= 200000 ? "s" : "");
        }
        return "‚Çπ" + num.toLocaleString("en-IN");
      }

      // --- Goal buttons ---
      document.querySelectorAll(".goal-btn").forEach((btn) => {
        btn.addEventListener("click", () => {
          // visual active state
          document
            .querySelectorAll(".goal-btn")
            .forEach((b) => b.classList.remove("active"));
          btn.classList.add("active");

          // set selected goal
          selectedGoal = parseInt(btn.dataset.goal, 10);
          const name = btn.dataset.name || goalMeta[selectedGoal] || "";

          // update highlight text (even if results are hidden, ready for later)
          document.getElementById(
            "highlightGoal"
          ).innerHTML = `Selected goal: <span class="accent fw-bold">${name} (‚Çπ${selectedGoal.toLocaleString(
            "en-IN"
          )})</span>`;

          // show calculator section (inputs) if hidden
          const calcSection = document.getElementById("calcSection");
          if (calcSection.classList.contains("d-none")) {
            calcSection.classList.remove("d-none");
            calcSection.scrollIntoView({ behavior: "smooth", block: "start" });
          }

          // Always compute with current/default inputs, but WITHOUT Pro Tip
          computeAndDraw(true);

          // if we already have results from a previous calculation, update summary
          if (lastResults) {
            showSingleGoalSummary(lastResults, selectedGoal);
          }
        });
      });

      // --- Core calculator ---
      function monthsToReachGoal(
        initial,
        sip,
        annualRatePct,
        goal,
        stepUpAmt = 0,
        topUpAmt = 0
      ) {
        // Simulate monthly compounding; SIP is added end of each month.
        // Yearly SIP step-up: +stepUpAmt every 12 months.
        // Annual top-up: +topUpAmt at the start of each new year (month 12, 24, ...).
        const r = annualRatePct / 100 / 12; // monthly rate
        let total = Math.max(0, Number(initial) || 0);
        let monthlySIP = Math.max(0, Number(sip) || 0);
        const step = Math.max(0, Number(stepUpAmt) || 0);
        const top = Math.max(0, Number(topUpAmt) || 0);

        const MAX_MONTHS = 12000; // hard stop to avoid infinite loops
        let m = 0;
        while (total < goal && m < MAX_MONTHS) {
          if (top > 0 && m > 0 && m % 12 === 0) {
            total += top; // yearly top-up at month 12,24,36,...
          }
          if (step > 0 && m > 0 && m % 12 === 0) {
            monthlySIP += step; // every 12 months increase SIP
          }
          // growth + SIP contribution at month end
          total = total * (1 + r) + monthlySIP;
          m++;
        }
        return m >= MAX_MONTHS ? Infinity : m; // months
      }

      function computeAndDraw(showProTip = true) {
        const initial =
          Number(document.getElementById("initialCorpus").value) || 0;
        const sip = Number(document.getElementById("monthlySIP").value) || 0;
        const rate =
          Number(document.getElementById("expectedReturn").value) || 0;

        // Step-Up & Top-Up are only applied after user chooses to edit them
        const stepAmt = advancedMode
          ? Number(document.getElementById("stepUpAmt").value) || 0
          : 0;

        const topAmt = advancedMode
          ? Number(document.getElementById("topUpAmt").value) || 0
          : 0;

        // Validate minimal inputs
        if (rate <= 0 || (initial <= 0 && sip <= 0)) {
          document.getElementById("resultLine").innerHTML =
            '<span class="text-danger">Enter a positive return and at least one positive amount (initial or SIP).</span>';
          return;
        }

        const monthsArr = goals.map((g) =>
          monthsToReachGoal(initial, sip, rate, g, stepAmt, topAmt)
        );

        lastResults = { initial, sip, rate, stepAmt, topAmt, monthsArr };
        drawLineChart(monthsArr);

        if (selectedGoal) {
          showSingleGoalSummary(lastResults, selectedGoal);
        } else {
          document.getElementById("resultLine").textContent =
            "Select a goal above to see the exact time.";
        }

        // Always show Results once we‚Äôve computed
        document.getElementById("resultsCol").classList.remove("d-none");

        // Only show the Pro Tip banner when explicitly requested (Calculate clicked)
        if (showProTip) {
          document.getElementById("proTipBanner").classList.remove("d-none");
        }
      }

      function showSingleGoalSummary(cache, goal) {
        const idx = goals.indexOf(goal);
        if (idx === -1) return;
        const m = cache.monthsArr[idx];
        const name = goalMeta[goal] || "";
        if (m === Infinity) {
          document.getElementById(
            "resultLine"
          ).innerHTML = `Reaching <b>${name} (‚Çπ${goal.toLocaleString(
            "en-IN"
          )})</b> isn\'t feasible with current inputs. Try increasing SIP/returns or adding top-ups.`;
          return;
        }
        const years = Math.floor(m / 12);
        const rem = m % 12;
        document.getElementById(
          "resultLine"
        ).innerHTML = `You\'ll reach <b>${name} (‚Çπ${goal.toLocaleString(
          "en-IN"
        )})</b> in <span class=\"accent\">${years} year(s) ${rem} month(s)</span>.`;
      }

      // --- Chart.js (line) ---
      const goalLabels = goals.map((g) => formatIndianAmount(g));

      function drawLineChart(monthsArr) {
        const ctx = document.getElementById("goalChart").getContext("2d");
        if (chart) chart.destroy();
        chart = new Chart(ctx, {
          type: "line",
          data: {
            labels: goalLabels,
            datasets: [
              {
                label: "Months to reach each goal",
                data: monthsArr.map((v) => (v === Infinity ? null : v)),
                tension: 0.3,
                borderColor:
                  getComputedStyle(document.documentElement)
                    .getPropertyValue("--brand-teal")
                    .trim() || "#37c0a2",
                backgroundColor: "rgba(55, 192, 162, 0.15)",
                pointRadius: 5,
                pointHoverRadius: 8,
                spanGaps: true,
                clip: 20,
                pointBackgroundColor: "transparent",
                pointBorderWidth: 0,
                pointStyle: (ctx) => {
                  const idx = ctx.dataIndex;
                  const goalValue = goals[idx]; // 200000, 500000, ...
                  return goalIconImages[goalValue] || "circle";
                },
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            interaction: { mode: "nearest", intersect: false },
            layout: {
              padding: {
                left: 24, // space so first icon doesn‚Äôt touch the border
                right: 24, // same for last icon
                top: 10,
                bottom: 0,
              },
            },
            plugins: {
              legend: { display: false },
              tooltip: {
                callbacks: {
                  label: (ctx) =>
                    ctx.parsed.y == null
                      ? "Not reachable"
                      : `${ctx.parsed.y} month(s)`,
                },
              },
              title: {
                display: true,
                text: "Time to Reach Each Milestone",
                color: "#1f2937",
                padding: { top: 6, bottom: 6 },
              },
            },
            scales: {
              x: {
                title: {
                  display: true,
                  text: "Milestone Goals (‚Çπ Amount)",
                  color: "#4b5563",
                },
              },
              y: {
                title: {
                  display: true,
                  text: "Months Needed (lower is faster)",
                  color: "#4b5563",
                },
                beginAtZero: true,
                ticks: { stepSize: 6 },
              },
            },
          },
        });
      }

      // --- Lightweight test cases (run once) ---
      (function runTests() {
        const t = (name, cond) =>
          console[cond ? "log" : "error"](
            `%cTEST ${cond ? "PASS" : "FAIL"}: ${name}`,
            `font-weight:bold;color:${cond ? "#37c0a2" : "#b00020"}`
          );
        // Libs present
        t("Bootstrap available", typeof bootstrap !== "undefined");
        t("Chart.js available", typeof Chart !== "undefined");
        // Monotonicity: higher goal should take >= months
        const base = monthsToReachGoal(50000, 10000, 12, 200000, 0, 0);
        const higher = monthsToReachGoal(50000, 10000, 12, 500000, 0, 0);
        t(
          "Higher goal takes longer or equal",
          higher >= base && base !== Infinity
        );
        // Yearly step-up reduces months compared to no step-up (when enabled)
        const noStep = monthsToReachGoal(50000, 10000, 12, 500000, 0, 0);
        const withStep = monthsToReachGoal(50000, 10000, 12, 500000, 1000, 0);
        t("Yearly step-up reduces time", withStep < noStep);
        // Yearly top-up reduces months
        const noTop = monthsToReachGoal(50000, 10000, 12, 500000, 0, 0);
        const withTop = monthsToReachGoal(50000, 10000, 12, 500000, 0, 20000);
        t("Annual top-up reduces time", withTop < noTop);
        // Step-up inert before 12 months
        const quickGoalNoStep = monthsToReachGoal(
          100000,
          50000,
          12,
          120000,
          0,
          0
        );
        const quickGoalWithStep = monthsToReachGoal(
          100000,
          50000,
          12,
          120000,
          5000,
          0
        );
        t(
          "Step-up inert before 12 months",
          quickGoalNoStep === quickGoalWithStep
        );
      })();

      // --- Events ---
      document
        .getElementById("expectedReturn")
        .addEventListener("input", (e) => {
          document.getElementById("returnValue").textContent = e.target.value;
        });

      document
        .getElementById("calcBtn")
        .addEventListener("click", () => computeAndDraw(true));

      // "Edit Step-Up & Top-Up" click ‚Üí reveal advanced inputs and scroll
      document.getElementById("nudgeFocus")?.addEventListener("click", () => {
        advancedMode = true;
        document
          .querySelectorAll(".advanced-input")
          .forEach((el) => el.classList.remove("d-none"));
        const step = document.getElementById("stepUpAmt");
        step?.scrollIntoView({ behavior: "smooth", block: "center" });
        setTimeout(() => step?.focus(), 300);
      });

      // No initial computeAndDraw() call ‚Äì user must choose goal & click Calculate
    </script>
  </body>
</html>
